<div class="wacpfm-heading-underline">
  <h1 class="wacpfm-heading-small fw-bold">Edit Candidate Profile</h1>
  <div class="wacpfm-underline"></div>
</div>
<br>
<div *ngIf="candidate$ | async as candidate">
  <label for="wacpfm-candidate-no">Examination Number</label>
  <input type="text" name="candidate-no" id="wacpfm-candidate-no" required [(ngModel)]="candidate.candidateId"
    placeholder="">
  <br><br>
  <label for="wacpfm-candidate-wacpno">Physician-in-Training Number</label>
  <input type="text" name="wacpfm-candidate-wacpno" id="wacpfm-candidate-wacpno" required
    [(ngModel)]="candidate.wacpNo">
  <br><br>
  <label for="wacpfm-candidate-dob">Date of Birth</label>
  <input type="date" name="wacpfm-candidate-dob" id="wacpfm-candidate-dob" required [(ngModel)]="candidate.dateOfBirth">
  <br><br>
  <label for="wacpfm-candidate-category">What category are you registering for?</label>
  <app-select (emitItems)="candidate.examType = $event[0]" mode="single"
    [items]="['Membership', 'Fellowship']"></app-select>
  <br><br>
  <label for="wacpfm-candidate-trainingcentre">Presence in training centre</label>
  <app-select (emitItems)="candidate.presenceInTrainingCentre = $event[0]" mode="single"
    [items]="['Yes', 'No']"></app-select>
  <br><br>
  <label for="wacpfm-candidate-trainingcentre-name">Name of Training Centre</label>
  <input type="text" name="wacpfm-candidate-trainingcentre-name" id="wacpfm-candidate-trainingcentre-name" required
    [(ngModel)]="candidate.presenceInTrainingCentre">
  <br><br>
  <label for="wacpfm-candidate-orals">Number of Previous Orals</label>
  <input type="number" name="wacpfm-candidate-orals" id="wacpfm-candidate-orals" required
    [(ngModel)]="candidate.presenceInTrainingCentre">
  <br><br>
  <label for="wacpfm-candidate-physical-handicap">Physical Handicap</label>
  <app-select (emitItems)="candidate.physicalHandicap = $event[0]" mode="single" [items]="handicap"></app-select>
  <br><br>
  <label for="wacpfm-candidate-other-handicap">Other Handicap</label>
  <input type="text" name="wacpfm-candidate-other-handicap" id="wacpfm-candidate-other-handicap" required
    [(ngModel)]="candidate.otherHandicap">
  <br><br>
  <label for="wacpfm-candidate-handicap-assistance">What assistance do you need?</label>
  <p class="wacpfm-small-text">Pls remember that this is subject to possibility at the host examination site and
    examination security considerations</p>
  <input type="text" name="wacpfm-candidate-handicap-assistance" id="wacpfm-candidate-handicap-assistance" required
    [(ngModel)]="candidate.handicapAssistance">
  <br><br>
  <div>
    <label for="wacpfm-candidate-breastfed">Will you have an exclusively breast-fed baby less than 6-months old during the examinations?</label>
    <app-select (emitItems)="candidate.exclusivelyBreastfedBaby = $event[0]" mode="single"
      [items]="['Yes', 'No']"></app-select>
    <br><br>
    <label for="wacpfm-candidate-pregnant">Will you be in the 3rd trimester of pregnancy during the examinations?</label>
    <app-select (emitItems)="candidate.exclusivelyBreastfedBaby = $event[0]" mode="single" [items]="['Yes', 'No']"></app-select>
    <br><br>
  </div>
  <br><br>
  <div *ngIf="candidateType$ | async as type">
    <div *ngIf="type === 'membership'"></div>
    <div *ngIf="type === 'fellowship'">
      <app-edit-fellowship [casebooks]="fetchForFellowship(candidate).casebooks"
      [dissertations]="fetchForFellowship(candidate).dissertation"></app-edit-fellowship>
    </div>
  </div>
  <br><br>
  <div *ngIf="updateTracker$ === null; else update">
    <button class="wacpfm-primary-button" routerLink="/dashboard/examination">Continue</button>
  </div>
  <ng-template #update>
    <button *ngIf="updateTracker$ | async as tracker; else loading" class="wacpfm-primary-button" (click)="update$()">Submit</button>
    <ng-template #loading>
      <app-loading-circles></app-loading-circles>
    </ng-template>
  </ng-template>
</div>